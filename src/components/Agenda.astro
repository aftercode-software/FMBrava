---
import { fetchAgenda } from "../utils/fetchAgenda";

const agenda = await fetchAgenda();
---

<section class="bg-gray-900 text-white py-8">
  <h1 class="text-3xl font-bold px-4 mb-6">Agenda</h1>
  <div class="relative">
    <button
      class="absolute left-0 top-1/2 transform -translate-y-1/2 z-10 p-2 bg-black bg-opacity-50 rounded-full hover:bg-opacity-75"
    >
      ‹
    </button>
    <div
      class="programas-container flex space-x-4 overflow-x-auto scroll-smooth px-4"
    >
      {
        agenda.map((agenda) => (
          <div class="group relative min-w-[200px] md:min-w-[240px] lg:min-w-[280px] overflow-hidden rounded-lg cursor-pointer">
            <img
              src={agenda.imagen.url}
              alt={agenda.imagen.alt}
              class="w-full h-40 md:h-48 lg:h-56 object-cover transition-transform duration-300 group-hover:scale-110"
            />
            <div class="absolute inset-0 bg-black bg-opacity-60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4">
              <h2 class="text-lg font-semibold leading-tight mb-1">
                {agenda.nombre}
              </h2>
              <p class="text-sm leading-snug line-clamp-3">
                {agenda.descripcion}
              </p>
            </div>
          </div>
        ))
      }
    </div>
    <button
      class="absolute right-0 top-1/2 transform -translate-y-1/2 z-10 p-2 bg-black bg-opacity-50 rounded-full hover:bg-opacity-75"
    >
      ›
    </button>
  </div>
</section>

<style lang="postcss">
  .programas-container::-webkit-scrollbar {
    display: none;
  }
  .programas-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>
