---
import { fetchAgenda } from "@/utils/fetchAgenda";
const { event } = Astro.props;

import Container from "../containers/Container.astro";
import Button from "../Button.astro";
import FeaturedEvent from "./FeaturedEvent.astro";
import EventCard from "./EventCard.astro";
const events = await fetchAgenda();
if (!events || events.length === 0) throw new Error("No events found");

const [featured, ...rest] = events;
---

<section
    class="bg-negro-900 text-white py-8"
    style=`
        background-image: linear-gradient(
            to bottom, 
            rgba(6, 6, 6, 1) 0%, 
            rgba(6, 6, 6, 0.89) 50%, 
            rgba(6, 6, 6, 1) 100%
        ), 
       
    `
>
    <Container class="flex flex-col items-center gap-8 lg:gap-32">
        <div class="w-full flex">
            <div class="w-full lg:w-[75%]">
                <span
                    class="font-inter font-extrabold text-xl tracking-[0.25em] text-negro-400"
                    >ENTERATE DE TODO</span
                >
                <h1
                    class="text-6xl lg:text-8xl 3xl:text-9xl font-bold font-tusker tracking-wide mt-4"
                >
                    NUESTRA AGENDA
                </h1>
                <div class="flex flex-col gap-4 font-ibm text-xl mt-2">
                    <span class="text-green-400 font-medium"
                        >Consulta nuestros proximos eventos</span
                    >
                </div>
                <p class="text-xl lg:text-2xl tracking-tight font-ibm mt-4">
                    Descubrí los próximos eventos de Brava para no perderte de
                    ninguno.
                </p>
                <div class="flex items-center gap-2 mt-6">
                    <div>
                        <img
                            src="../../../public/images/agenda.png"
                            alt="Agenda"
                            class="w-24 md:w-32 mb-2"
                        />
                    </div>
                    <div class="w-[75%]">
                        <h2
                            class="text-[32px] font-inter font-bold text-white tracking-wider"
                        >
                            {featured.nombre}
                        </h2>
                        <p
                            class="text-[20px] font-normal font-ibm text-white/60"
                        >
                            {featured.descripcion}
                        </p>
                    </div>
                </div>
            </div>
            <div
                class="hidden md:block bg-rojo h-[50%] w-[50%] absolute top-2/5 left-4/5 -translate-x-1/2 -translate-y-1/2 rounded-full blur-[400px] pointer-events-none"
            >
            </div>
            <div class="flex-1 w-[25%]">
                <FeaturedEvent event={featured} />
            </div>
        </div>
        <div
            class="w-full md:flex-1 grid grid-cols-2 grid-rows-2 md:grid-cols-3 gap-x-4 gap-y-10 md:gap-y-10 h-[300px] md:h-full z-10"
        >
            {rest.map((event) => <EventCard key={event.id} event={event} />)}
        </div>
        <div class="w-full lg:w-3/5">
            <!-- <Player client:load /> -->
        </div>
    </Container>
</section>
