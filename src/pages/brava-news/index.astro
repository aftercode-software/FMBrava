---
import BravaNewsEmpty from "@/components/brava-news/EmptySection";
import NewsSection from "@/components/brava-news/NewsSection.astro";
import Container from "@/components/containers/Container.astro";
import MiniPlayer from "@/components/MiniPlayer.astro";
import Layout from "@/layouts/Layout.astro";
import { fetchBlogs } from "@/utils/fetchBlogs";

const blogs = await fetchBlogs();
---

<Layout
  title="Brava News"
  description="Últimas noticias de Brava"
  pathname="/brava-news"
>
  {
    blogs.length > 0 ? (
      <Container class="mt-30">
        <NewsSection />
      </Container>
    ) : (
      <Container class="mt-30 min-h-screen flex items-center justify-center">
        <BravaNewsEmpty
          title="Brava News"
          description="Pronto tendrás aquí las últimas noticias y novedades de la radio."
        />
      </Container>
    )
  }
  <MiniPlayer />
</Layout>
